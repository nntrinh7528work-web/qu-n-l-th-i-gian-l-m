[CONTEXT]
I am building a Work Hours Tracker app using Python Streamlit and SQLite.
I am encountering a critical error: "sqlite3.OperationalError: no such table: work_shifts".
My project structure:
- app.py (Main UI)
- database.py (SQLite logic)
- db_wrapper.py (Wrapper for SQLite/Supabase)
- calculations.py (Time logic)

[BUGS TO FIX]
1. Critical: The table `work_shifts` is queried but never created in `init_database()`.
2. Critical: Missing CRUD functions (`add_shift`, `update_shift`, `delete_shift`) for `work_shifts`.
3. Critical: `get_shifts_by_range` crashes if table doesn't exist.
4. High: Overnight shift calculation (e.g., 22:00 to 06:00) returns negative or wrong hours.
5. High: Need to migrate old data from `work_logs` table to new `work_shifts` table.
6. Medium: Hardcoded numbers (8.0, 1.0) need to be constants.

[REQUEST]
Please provide the FIXED code for:
1. `database.py`: Include `CREATE TABLE work_shifts`, migration logic, and full CRUD.
2. `calculations.py`: Fix overnight logic and add constants.
3. `db_wrapper.py`: Add wrapper functions for the new CRUD methods.

[CONSTRAINTS]
- Must use SQLite.
- Must be compatible with existing data in `work_logs` (migrate it if possible).
- Add comments explaining fixes.
